<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Underscore</title>
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
		<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
		<script src="../js/underscore-min.js"></script>
	</head>
	<body>
		<script type="text/template" id="template">
		<% if (null !== contact) { %>
			<form action="#">
				<input type="text" placeholder="Nom" value="<%= lastname %>" required />
				<input type="text" placeholder="Prénom" value="<%= firstname %>" required />
				<input type="date" placeholder="Date de naissance" value="<%= birthday %>" />
				<input type="tel" placeholder="Téléphone" value="<%- phone %>" pattern="^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$" />
				<input type="email" placeholder="Courriel" value="<%- email %>" />
				<input type="number" placeholder="Nombre d'enfants" value="<%= children %>" />
				<input type="submit" value="Créer" />
			</form>
		<% } %>
		</script>
        
		<div data-role="page" id="page1">
			<div data-role="header">
				<h1>Templating</h1>
			</div>
			<div data-role="content">
				
			</div>
			<div data-role="footer" data-position="fixed">
				<h4>Edition d'un contact</h4>
			</div>
		</div>
		
		<script type="text/javascript">
			var template = _.template($('#template').html());
			
			var contact = {
				lastname: 'DERUE', 
				firstname: 'CEDRIC', 
				birthday: '1976-12-30', 
				phone: '', 
				email: 'cedric.derue@gmail.com',
				children: 2
			};
			
			$('div[data-role="content"]').append(template(contact));
		</script>
	</body>
 </html>


